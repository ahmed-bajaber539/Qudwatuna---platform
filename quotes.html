<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>حِكم - Qudwatuna</title>

  <!-- CSS الأساسي -->
  <link rel="stylesheet" href="./src/css/style.css" />
  <link rel="stylesheet" href="./src/css/output.css" />

  <!-- Font Awesome -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- AOS -->
  <link rel="stylesheet" href="./node_modules/aos/dist/aos.css" />
</head>
<body class="font-primary bg-white text-black">
  <!-- ====================== Header ====================== -->
  <header>
    <nav class="bg-white/80 backdrop-blur shadow-md fixed top-0 left-0 right-0 z-50">
      <div class="container mx-auto px-4 py-3 flex items-center justify-between">
        <!-- Logo -->
        <a href="index.html" class="flex items-center gap-3" aria-label="الانتقال إلى الرئيسية">
          <img src="./src/img/logo-Qudwatuna.png" alt="شعار قدوتنا" class="h-10" />
          <span class="sr-only">Qudwatuna</span>
        </a>

        <!-- زر القائمة (موبايل) -->
        <button id="menuToggle" class="md:hidden inline-flex items-center justify-center"
                aria-label="فتح القائمة" aria-expanded="false" aria-controls="mobileMenu">
          <i class="fa-solid fa-bars text-3xl text-[#B5964D]"></i>
        </button>

        <!-- القائمة (ديسكتوب) -->
        <ul id="mainMenu" class="hidden md:flex gap-8 items-center text-sm font-medium">
          <li><a class="flex items-center gap-2 text-gray-700 hover:text-[#B5964D] transition-colors" href="index.html"><i class="fa-solid fa-house"></i><span>الرئيسية</span></a></li>
          <li><a class="flex items-center gap-2 text-gray-700 hover:text-[#B5964D] transition-colors" href="stories.html"><i class="fa-solid fa-users"></i><span>قدواتنا</span></a></li>
          <li><a class="flex items-center gap-2 text-white bg-[#B5964D] px-3 py-1 rounded-full" href="quotes.html"><i class="fa-solid fa-quote-left"></i><span>حِكم</span></a></li>
          <li><a class="flex items-center gap-2 text-gray-700 hover:text-[#B5964D] transition-colors" href="index.html#info"><i class="fa-solid fa-circle-info"></i><span>معلومات</span></a></li>
          <li><a class="flex items-center gap-2 text-gray-700 hover:text-[#B5964D] transition-colors" href="index.html#contact"><i class="fa-solid fa-envelope"></i><span>تواصل</span></a></li>
        </ul>
      </div>

      <!-- قائمة الموبايل -->
      <div id="mobileMenu" class="md:hidden hidden border-t bg-white/95 backdrop-blur">
        <ul class="px-4 py-3 space-y-2">
          <li><a class="flex items-center gap-2 py-2 text-gray-700 hover:text-[#B5964D]" href="index.html"><i class="fa-solid fa-house"></i><span>الرئيسية</span></a></li>
          <li><a class="flex items-center gap-2 py-2 text-gray-700 hover:text-[#B5964D]" href="stories.html"><i class="fa-solid fa-users"></i><span>قدواتنا</span></a></li>
          <li><a class="flex items-center gap-2 py-2 text-white bg-[#B5964D] rounded-lg px-3" href="quotes.html"><i class="fa-solid fa-quote-left"></i><span>حِكم</span></a></li>
          <li><a class="flex items-center gap-2 py-2 text-gray-700 hover:text-[#B5964D]" href="index.html#info"><i class="fa-solid fa-circle-info"></i><span>معلومات</span></a></li>
          <li><a class="flex items-center gap-2 py-2 text-gray-700 hover:text-[#B5964D]" href="index.html#contact"><i class="fa-solid fa-envelope"></i><span>تواصل</span></a></li>
        </ul>
      </div>
    </nav>
  </header>

  <main id="main">
    <!-- Spacer للـ fixed nav -->
    <div class="h-16" aria-hidden="true"></div>

    <!-- ====================== Hero صغير للعنوان ====================== -->
    <section class="relative overflow-hidden bg-[#0C0C0C]">
      <div class="absolute inset-0 bg-gradient-to-b from-[#0C0C0C] to-[#1a1a1a]"></div>
      <div class="relative max-w-6xl mx-auto px-4 py-10 md:py-14 text-center">
        <h1 class="text-white text-3xl md:text-4xl font-extrabold tracking-wide" data-aos="fade-up">
          من حِكم القادة
        </h1>
        <p class="text-gray-300 mt-3" data-aos="fade-up" data-aos-delay="100">
          اقتباسات خالدة تُلهم حاضرنا وتوجّه مستقبلنا.
        </p>
      </div>
    </section>

    <!-- ====================== شريط الفلاتر + البحث ====================== -->
    <section class="bg-[#F2F2F0]">
      <div class="max-w-6xl mx-auto px-4 py-6 flex flex-col md:flex-row items-center justify-between gap-4">
        <div class="flex items-center gap-2 w-full md:w-auto">
          <label for="quotesFilter" class="text-sm font-semibold text-gray-800">التصنيف:</label>
          <select id="quotesFilter"
                  class="rounded-md bg-white text-black border border-gray-300 px-3 py-2 text-sm w-full md:w-auto focus:outline-none focus:ring-2 focus:ring-[#B5964D]">
            <option value="all">الكل</option>
            <option value="prophetic">نبوية</option>
            <option value="sahaba">الصحابة</option>
            <option value="tabiun">التابعون</option>
            <option value="leaders">القادة</option>
            <option value="wisdom">حكمة عامة</option>
          </select>
        </div>

        <div class="flex items-center w-full md:w-1/2">
          <input id="quotesSearch" type="text" placeholder="ابحث عن حكمة أو اسم قائل"
                 class="flex-grow rounded-s-lg bg-white text-black border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#B5964D]" />
          <button id="quotesSearchBtn"
                  class="bg-[#B5964D] text-white px-4 py-2 rounded-e-lg hover:brightness-110 active:scale-95 transition">
            ابحث
          </button>
        </div>
      </div>
    </section>

    <!-- ====================== شبكة الحِكم ====================== -->
    <section class="bg-[#F2F2F0] pb-12">
      <div class="max-w-6xl mx-auto px-4">
        <div id="quotesGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 pt-2">
          <!-- بطاقة 1 -->
          <article class="quote-card group relative w-full p-6 rounded-xl bg-white shadow-md border border-gray-200"
                   data-group="sahaba" data-author="عمر بن الخطاب" data-text="حاسبوا أنفسكم قبل أن تحاسبوا">
            <p class="text-gray-800 leading-relaxed">
              " حاسبوا أنفسكم قبل أن تحاسبوا، وزنوا أعمالكم قبل أن توزن عليكم "
            </p>
            <span class="block mt-4 text-sm text-[#555] font-semibold">عمر بن الخطاب رضي الله عنه</span>
            <button type="button" onclick="copyQuote(this)"
                    class="absolute bottom-3 right-3 opacity-0 group-hover:opacity-100 transition bg-[#B5964D] hover:bg-[#a3833f] text-white w-10 h-10 rounded-full shadow-md flex items-center justify-center active:scale-95"
                    aria-label="نسخ النص">
              <i class="fa-regular fa-copy text-lg"></i>
            </button>
          </article>

          <!-- بطاقة 2 -->
          <article class="quote-card group relative w-full p-6 rounded-xl bg-white shadow-md border border-gray-200"
                   data-group="tabiun" data-author="الحسن البصري" data-text="إنما العلم بالتعلم">
            <p class="text-gray-800 leading-relaxed">" إنما العلم بالتعلّم، وإنما الحلم بالتحلّم "</p>
            <span class="block mt-4 text-sm text-[#555] font-semibold">الحسن البصري رحمه الله</span>
            <button type="button" onclick="copyQuote(this)" class="absolute bottom-3 right-3 opacity-0 group-hover:opacity-100 transition bg-[#B5964D] hover:bg-[#a3833f] text-white w-10 h-10 rounded-full shadow-md flex items-center justify-center active:scale-95" aria-label="نسخ النص">
              <i class="fa-regular fa-copy text-lg"></i>
            </button>
          </article>

          <!-- بطاقة 3 -->
          <article class="quote-card group relative w-full p-6 rounded-xl bg-white shadow-md border border-gray-200"
                   data-group="sahaba" data-author="علي بن أبي طالب" data-text="العلم خير من المال">
            <p class="text-gray-800 leading-relaxed">" العلم خير من المال، العلم يحرسك وأنت تحرس المال "</p>
            <span class="block mt-4 text-sm text-[#555] font-semibold">علي بن أبي طالب رضي الله عنه</span>
            <button type="button" onclick="copyQuote(this)" class="absolute bottom-3 right-3 opacity-0 group-hover:opacity-100 transition bg-[#B5964D] hover:bg-[#a3833f] text-white w-10 h-10 rounded-full shadow-md flex items-center justify-center active:scale-95" aria-label="نسخ النص">
              <i class="fa-regular fa-copy text-lg"></i>
            </button>
          </article>

          <!-- بطاقة 4 -->
          <article class="quote-card group relative w-full p-6 rounded-xl bg-white shadow-md border border-gray-200"
                   data-group="prophetic" data-author="النبي محمد ﷺ" data-text="بعثت لأتمم مكارم الأخلاق">
            <p class="text-gray-800 leading-relaxed">" إنما بُعثتُ لأتمم مكارم الأخلاق "</p>
            <span class="block mt-4 text-sm text-[#555] font-semibold">النبي محمد ﷺ</span>
            <button type="button" onclick="copyQuote(this)" class="absolute bottom-3 right-3 opacity-0 group-hover:opacity-100 transition bg-[#B5964D] hover:bg-[#a3833f] text-white w-10 h-10 rounded-full shadow-md flex items-center justify-center active:scale-95" aria-label="نسخ النص">
              <i class="fa-regular fa-copy text-lg"></i>
            </button>
          </article>

          <!-- بطاقة 5 -->
          <article class="quote-card group relative w-full p-6 rounded-xl bg-white shadow-md border border-gray-200"
                   data-group="leaders" data-author="صلاح الدين الأيوبي" data-text="إني أعدلتُ">
            <p class="text-gray-800 leading-relaxed">" لا أستطيع أن أنام وفي المسلمين مظلمة "</p>
            <span class="block mt-4 text-sm text-[#555] font-semibold">صلاح الدين الأيوبي</span>
            <button type="button" onclick="copyQuote(this)" class="absolute bottom-3 right-3 opacity-0 group-hover:opacity-100 transition bg-[#B5964D] hover:bg-[#a3833f] text-white w-10 h-10 rounded-full shadow-md flex items-center justify-center active:scale-95" aria-label="نسخ النص">
              <i class="fa-regular fa-copy text-lg"></i>
            </button>
          </article>

          <!-- بطاقة 6 -->
          <article class="quote-card group relative w-full p-6 rounded-xl bg-white shadow-md border border-gray-200"
                   data-group="wisdom" data-author="مثل عربي" data-text="من جد وجد">
            <p class="text-gray-800 leading-relaxed">" من جدّ وجد، ومن زرع حصد "</p>
            <span class="block mt-4 text-sm text-[#555] font-semibold">مثل عربي</span>
            <button type="button" onclick="copyQuote(this)" class="absolute bottom-3 right-3 opacity-0 group-hover:opacity-100 transition bg-[#B5964D] hover:bg-[#a3833f] text-white w-10 h-10 rounded-full shadow-md flex items-center justify-center active:scale-95" aria-label="نسخ النص">
              <i class="fa-regular fa-copy text-lg"></i>
            </button>
          </article>

        </div>

        <!-- Empty + live region -->
        <p id="quotesEmpty" class="hidden text-center text-gray-600 mt-6">لا توجد نتائج مطابقة.</p>
        <div id="quotesLive" class="sr-only" role="status" aria-live="polite"></div>

        <!-- Pagination -->
        <nav id="quotesPagination" class="flex justify-center items-center gap-2 mt-8" aria-label="ترقيم الصفحات"></nav>
      </div>
    </section>
  </main>

  <!-- ====================== Footer ====================== -->
  <footer class="bg-[#0C0C0C] text-white mt-10">
    <div class="max-w-6xl mx-auto px-4 py-12 grid grid-cols-1 md:grid-cols-3 gap-10">
      <div class="space-y-4 text-center md:text-start">
        <img src="./src/img/logo-Qudwatuna.png" alt="شعار قدوتنا" class="h-12 mx-auto md:mx-0" loading="lazy" />
        <h3 class="font-bold text-xl tracking-wide">Qudwatuna</h3>
        <p class="text-gray-400 text-sm leading-relaxed max-w-md mx-auto md:mx-0">
          “منصة قُدوتنا تنقل سير وأفكار القادة والصحابة والتابعين؛ لنستلهم منهم العزم والإيمان ونبني مستقبلنا.”
        </p>
        <div class="flex justify-center md:justify-start gap-4 pt-2 text-xl">
          <a href="#" class="hover:text-[#B5964D]" aria-label="Instagram"><i class="fa-brands fa-instagram"></i></a>
          <a href="#" class="hover:text-[#B5964D]" aria-label="X"><i class="fa-brands fa-x-twitter"></i></a>
          <a href="#" class="hover:text-[#B5964D]" aria-label="Facebook"><i class="fa-brands fa-facebook"></i></a>
        </div>
      </div>
      <div class="space-y-3 text-center md:text-start">
        <h4 class="font-bold text-lg mb-2">روابط سريعة</h4>
        <ul class="grid grid-cols-2 md:block gap-x-6 gap-y-2 text-gray-400 text-sm">
          <li><a href="index.html" class="hover:text-[#B5964D]">الرئيسية</a></li>
          <li><a href="index.html#qudwatuna" class="hover:text-[#B5964D]">قدواتنا</a></li>
          <li><a href="quotes.html" class="text-white hover:text-[#B5964D]">حِكم</a></li>
          <li><a href="index.html#info" class="hover:text-[#B5964D]">معلومات</a></li>
        </ul>
      </div>
      <div class="space-y-3 text-center md:text-start">
        <h4 class="font-bold text-lg mb-2">تواصل معنا</h4>
        <ul class="space-y-3 text-gray-400 text-sm max-w-sm mx-auto md:mx-0">
          <li class="flex items-center justify-center md:justify-start gap-2">
            <i class="fa-solid fa-envelope text-[#B5964D]"></i>
            <a href="mailto:info@qudwatuna.com" class="hover:text-[#B5964D]">info@qudwatuna.com</a>
          </li>
          <li class="flex items-center justify-center md:justify-start gap-2">
            <i class="fa-solid fa-phone text-[#B5964D]"></i>
            <a href="tel:+967000000000" class="hover:text-[#B5964D]">+967 000 000 000</a>
          </li>
        </ul>
      </div>
    </div>


    <div class="text-center py-4 text-gray-500 text-sm">
      © 2025 <span class="font-semibold">Qudwatuna</span>. جميع الحقوق محفوظة.
    </div>
  </footer>

  <!-- ====================== Scripts ====================== -->
  <!-- AOS -->
  <script src="./node_modules/aos/dist/aos.js"></script>
  <!-- سكربتات عامة للموقع -->
  <script src="./src/js/script.js"></script>

  <script>

    // فلترة + بحث + باجنيشن
    (function () {
      const grid = document.getElementById('quotesGrid');
      const filterEl = document.getElementById('quotesFilter');
      const searchEl = document.getElementById('quotesSearch');
      const searchBtn = document.getElementById('quotesSearchBtn');
      const pagination = document.getElementById('quotesPagination');
      const emptyMsg = document.getElementById('quotesEmpty');
      const live = document.getElementById('quotesLive');
      if (!grid) return;

      const cards = Array.from(grid.children);
      let state = { q:'', group:'all', page:1, perPage:getPerPage() };

      function getPerPage () {
        const w = window.innerWidth;
        if (w >= 1024) return 9;
        if (w >= 640)  return 6;
        return 6;
      }

      function filtered () {
        const q = state.q.trim().toLowerCase();
        return cards.filter(c => {
          const g = (c.getAttribute('data-group')||'').toLowerCase();
          const author = (c.getAttribute('data-author')||'').toLowerCase();
          const text = (c.getAttribute('data-text')||'').toLowerCase();
          const gOk = (state.group === 'all') || (g === state.group);
          const qOk = !q || author.includes(q) || text.includes(q);
          return gOk && qOk;
        });
      }

      function render () {
        const list = filtered();
        const total = list.length;
        const pages = Math.max(1, Math.ceil(total / state.perPage));
        if (state.page > pages) state.page = pages;

        cards.forEach(c => c.classList.add('hidden'));
        if (total === 0) {
          emptyMsg.classList.remove('hidden');
          pagination.innerHTML = '';
          live.textContent = 'لا توجد نتائج.';
          return;
        } else {
          emptyMsg.classList.add('hidden');
        }

        const start = (state.page - 1) * state.perPage;
        list.slice(start, start + state.perPage).forEach(c => c.classList.remove('hidden'));

        buildPagination(pages);
        live.textContent = `عرض ${Math.min(total, start+1)}–${Math.min(total, start+state.perPage)} من ${total}. صفحة ${state.page}/${pages}.`;
      }

      function buildPagination (pages) {
        pagination.innerHTML = '';
        const makeBtn = (label, onClick, classes, disabled=false) => {
          const b = document.createElement('button');
          b.type = 'button'; b.textContent = label; b.className = classes;
          if (disabled) { b.disabled = true; b.classList.add('opacity-50','cursor-not-allowed'); }
          else b.addEventListener('click', onClick);
          return b;
        };
        const base = 'px-3 sm:px-4 py-2 rounded-md bg-gray-800 text-gray-300 hover:bg-[#B5964D] hover:text-white transition';
        const num  = 'w-9 h-9 sm:w-10 sm:h-10 rounded-md transition font-semibold';

        pagination.appendChild(makeBtn('السابق', () => { state.page--; render(); scrollIntoView(); }, base, state.page===1));

        const win = 5;
        let s = Math.max(1, state.page - Math.floor(win/2));
        let e = Math.min(pages, s + win - 1);
        if (e - s + 1 < win) s = Math.max(1, e - win + 1);

        for (let i = s; i <= e; i++) {
          const active = i === state.page;
          pagination.appendChild(makeBtn(
            String(i),
            () => { state.page = i; render(); scrollIntoView(); },
            active ? `${num} bg-[#B5964D] text-white` : `${num} bg-gray-700 text-white hover:bg-[#B5964D]`
          ));
        }

        pagination.appendChild(makeBtn('التالي', () => { state.page++; render(); scrollIntoView(); }, base, state.page===pages));
      }

      function scrollIntoView () {
        document.querySelector('main')?.scrollIntoView({ behavior:'smooth', block:'start' });
      }

      // Events
      filterEl.addEventListener('change', () => { state.group = filterEl.value; state.page = 1; render(); });
      let t;
      searchEl.addEventListener('input', () => { clearTimeout(t); t = setTimeout(() => { state.q = searchEl.value; state.page = 1; render(); }, 300); });
      searchBtn.addEventListener('click', () => { state.q = searchEl.value; state.page = 1; render(); });

      window.addEventListener('resize', () => {
        const n = getPerPage();
        if (n !== state.perPage) { state.perPage = n; state.page = 1; render(); }
      });

      render();
    })();
    
  </script>
</body>
</html>
